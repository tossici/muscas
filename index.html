<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dott.ssa Alessia Muscas | Psicologa</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="toast-container"></div>

    <div id="universal-modal">
        <span class="close-modal" onclick="closeModal()"><i class="fas fa-times"></i></span>
        <div id="modal-content" style="max-width: 800px; margin: 0 auto;"></div>
    </div>

    <div id="admin-auth-overlay">
        <div class="auth-card">
            <i class="fas fa-user-shield"></i>
            <h3>Area Professionale</h3>
            <p>Inserisci la password</p>
            <input type="password" id="adminPass" placeholder="Password" class="admin-input">
            <button class="btn btn-primary" id="loginBtn" onclick="checkPassword()">Accedi Ora</button>
            <p class="cancel-auth" onclick="closeAuth()">Annulla</p>
        </div>
    </div>

    <div id="admin-dashboard">
        <aside class="sidebar">
            <div class="sidebar-header"><h2>DOTT.SSA MUSCAS</h2></div>
            <ul class="sidebar-nav">
                <li id="nav-home" class="active" onclick="switchTab('home')"><i class="fas fa-chart-line"></i> <span>ğŸ  Home</span></li>
                <li id="nav-msgs" onclick="switchTab('msgs')"><i class="fas fa-calendar-check"></i> <span>ğŸ“… Prenotazioni</span></li>
                <li id="nav-blog" onclick="switchTab('blog')"><i class="fas fa-pen-nib"></i> <span>âœï¸ Blog</span></li>
                <li class="logout-btn" onclick="location.reload()"><i class="fas fa-sign-out-alt"></i> <span>ğŸšª Esci</span></li>
            </ul>
        </aside>

        <main class="dashboard-main">
            <div id="tab-home" class="dashboard-content active">
                <h1>Bentornata ğŸ‘‹</h1>
                <div class="stats-grid">
                    <div class="stat-card"><h4>Prenotazioni</h4><div class="value"><span id="count-msgs">0</span> ğŸ“©</div></div>
                    <div class="stat-card"><h4>Articoli</h4><div class="value"><span id="count-posts">0</span> ğŸ“</div></div>
                    <div class="stat-card"><h4>Visite Sito</h4><div class="value"><span id="count-visits">0</span> ğŸ“ˆ</div></div>
                </div>
                <div class="glass-panel">
                    <h3>Azioni Rapide âš¡</h3><br>
                    <div style="display:flex; gap:10px; flex-wrap:wrap;">
                        <button class="btn btn-primary" onclick="switchTab('blog')">âœ¨ Nuovo Post</button>
                        <button class="btn btn-light" onclick="switchTab('msgs')">ğŸ” Vedi Prenotazioni</button>
                    </div>
                </div>
            </div>

            <div id="tab-msgs" class="dashboard-content">
                <h1>Richieste di Colloquio ğŸ“‹</h1>
                <table class="table-custom"><tbody id="messages-list"></tbody></table>
            </div>

            <div id="tab-blog" class="dashboard-content">
                <h1 id="blog-editor-title">Gestione Blog ğŸ“‘</h1>
                <div class="glass-panel">
                    <input type="text" id="post-title" class="admin-input" placeholder="Titolo dell'articolo">
                    <div class="file-upload-wrapper">
                        <label for="post-file" style="cursor:pointer; display:block;">
                            <i class="fas fa-camera"></i><br>
                            <span id="file-label-text">Clicca per caricare una foto dal file</span>
                        </label>
                        <input type="file" id="post-file" accept="image/*" style="display:none;" onchange="handleImageUpload(this)">
                        <input type="hidden" id="post-img-data">
                        <img id="image-preview" src="">
                    </div>
                    <textarea id="post-content" class="admin-input" rows="5" placeholder="Contenuto..."></textarea>
                    <div style="display:flex; gap:10px;">
                        <button class="btn btn-primary" id="publishBtn" style="flex:1" onclick="addPost()">ğŸš€ Pubblica</button>
                        <button class="btn btn-light" id="cancelEditBtn" style="display:none;" onclick="resetBlogForm()">Annulla</button>
                    </div>
                </div>
                <div id="admin-blog-list"></div>
            </div>
        </main>
    </div>

    <section id="hero">
        <h1>Dott.ssa Alessia Muscas</h1>
        <p class="subtitle">Psicologa e Psicoterapeuta</p>
        <a href="#prenota" class="btn btn-primary">Prenota un Colloquio</a>
    </section>

    <section id="bio">
        <div class="bio-container">
            <img src="https://pixel-p2.s3.eu-central-1.amazonaws.com/doctor/avatar/5f9970a0/5f9970a0-b017-4418-b90b-c588a456f1e7_large.jpg" class="bio-img">
            <div class="bio-text">
                <h2>Il mio approccio</h2><br>
                <p>Offro uno spazio sicuro di ascolto e sostegno per affrontare ansia, stress e momenti di cambiamento, promuovendo il benessere psicologico attraverso percorsi personalizzati.</p>
            </div>
        </div>
    </section>

    <section id="blog" class="section">
        <h2>Blog e Risorse</h2>
        <div class="blog-grid" id="public-blog-grid"></div>
    </section>

    <section id="prenota" class="section bg-grey">
        <div id="contact-form-container">
            <h2>Prenota un Colloquio</h2>
            <p class="form-sub">Compila il modulo per essere ricontattato/a</p>
            
            <input type="text" id="c_name" placeholder="Nome e Cognome" class="admin-input">
            <div class="form-row">
                <input type="email" id="c_email" placeholder="Email" class="admin-input">
                <input type="tel" id="c_phone" placeholder="Telefono" class="admin-input">
            </div>
            
            <select id="c_type" class="admin-input">
                <option value="" disabled selected>Preferenza modalitÃ </option>
                <option value="In Studio">ğŸ¥ In Studio (Sanluri - Cagliari)</option>
                <option value="Online">ğŸ’» Online (Videochiamata)</option>
            </select>

            <textarea id="c_msg" rows="4" placeholder="Breve motivo della richiesta (opzionale)" class="admin-input"></textarea>
            
            <button class="btn btn-primary" style="width:100%;" onclick="submitForm()">Invia Richiesta</button>
        </div>
    </section>

    <footer>
        <div class="social-links">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
        </div>
        <p>&copy; 2026 Dott.ssa Alessia Muscas - P. IVA 1234567890</p>
        <div class="admin-trigger" onclick="openAuth()">AREA RISERVATA</div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
